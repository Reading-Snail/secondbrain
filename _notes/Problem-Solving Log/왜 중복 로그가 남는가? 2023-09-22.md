#넥사크로  #로그
상황:
콘솔 로그에 query조회시 로그가 두번씩 중복해서 남는 현상이 발견되었다. 모든 경우는 아니었고 어떨 때는 두번나오고 대부분의 경우 한번만 표시가 되었다.

분석:
우선 상황을 재연해보았다. 여러 경우의 데이터를 넣어보았고, 결과적으로 중복로그가 나오는 경우는 하나의 데이터도 조회되지 않는 경우였다. 사용하고 있는 프레임워크가 넥사크로였기에 구글링과 넥사크로 메뉴얼을 뒤져서 메뉴얼에도 잘 나오지 않는 원인을 파악했다 데이터를 가져올 떄, Row값이 0이면 데이터가 없다고 판단하여 컬럼명을 가져오지 않게 된다.  칼럼명을 가져오기 위해 넥사크로에서는 해당 query를 사용해서 헤더정보를 재조회하고 되고, 이떄 두번째 로그가 남게된다.

해결책:
원인을 알았으나 해결책은 없어보인다. 넥사크로에서 제공하는 방식 자체가 query를 두번 보내는 방식을 사용하기 떄문이다. 외부에서 사용하는 입장에서는 header를 조회하기 위한 query를 구별할 방법은 딱히 없어보였다. 만약 있다고 하더라도 필요이상의 복잡한 방식을 사용해야 될 것으로 보인다.