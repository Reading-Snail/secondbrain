2023-11-01
#리눅스

개발하고 있던 프로그램에서 그리드를 엑셀로 다운로드할 때 무한 로딩이 걸리는 문제가 발생했다. 특이점은 개발, 검증에서는 문제가 없는데 운영만 문제가 있었다.

소스의 문제는 아닐 것으로 판단 되었다. 해서 우선 로그를 살펴봤다. 운영서버의 로그가 기록되는 WAS log가 있는 catalina.log  파일을 tail -f 명령어로 열고 상황을 재연해봤다.
Java단에서 예외 로그가 발생했고 주요 로그는 InvocationTargetException와 그 하위에 NullPointerException
그리고 또 그 하위에 FontConfiguration에 관한 에러가 발생했다. 개략적으로 해석해보건데 FontConfiguration이 없다는 거였다. Fc-list 명령어로 설치된 폰트를 확인해보니 운영서버에만 내역이 전혀 나오지 않았다.

운영서버의 경우 root접속시 외부망 접속이 가능하여  yum을 통해 폰트를 설치하였고, 정상 작동 시킬 수 있었다.

++ 로그를 꼼꼼히 보고 대략적으로 해석할 수 있는 능력이 얼마나 중요한가에 대해서 느낄 수 있는 경험이었다. 그리고 소스코드 외에도 개발환경, 서버환경에 따라 여러 변수가 프로그램의 작동에 영향을  줄 수 있음을 알 수 있었다.
